<!doctype html><html lang=en-uk><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://basilesimon.fr/images/favicon.png><title>Speccing = cool - weeknotes #54</title><meta name=title content="Speccing = cool - weeknotes #54"><meta name=description content="I&rsquo;ve been working about 50% this week as I&rsquo;m chaperoning the little one in her introduction to the new daycare centre. Which means that I spent my mornings with a group of about a dozen 2-6 year olds â€“ a relatively different bunch than my regular colleagues, believe me.
I won&rsquo;t bore you with parental softness, but it&rsquo;s a really sweet thing seeing her navigating this new world and having so much to take on, from the new everyday language (ðŸ‡«ðŸ‡·) to the many rules of this new, strange place."><meta name=keywords content><meta property="og:title" content="Speccing = cool - weeknotes #54"><meta property="og:description" content="I&rsquo;ve been working about 50% this week as I&rsquo;m chaperoning the little one in her introduction to the new daycare centre. Which means that I spent my mornings with a group of about a dozen 2-6 year olds â€“ a relatively different bunch than my regular colleagues, believe me.
I won&rsquo;t bore you with parental softness, but it&rsquo;s a really sweet thing seeing her navigating this new world and having so much to take on, from the new everyday language (ðŸ‡«ðŸ‡·) to the many rules of this new, strange place."><meta property="og:type" content="article"><meta property="og:url" content="https://basilesimon.fr/weeknotes/weeknotes-54/"><meta property="article:section" content="weeknotes"><meta property="article:published_time" content="2021-10-09T00:00:00+00:00"><meta property="article:modified_time" content="2021-10-09T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Speccing = cool - weeknotes #54"><meta name=twitter:description content="I&rsquo;ve been working about 50% this week as I&rsquo;m chaperoning the little one in her introduction to the new daycare centre. Which means that I spent my mornings with a group of about a dozen 2-6 year olds â€“ a relatively different bunch than my regular colleagues, believe me.
I won&rsquo;t bore you with parental softness, but it&rsquo;s a really sweet thing seeing her navigating this new world and having so much to take on, from the new everyday language (ðŸ‡«ðŸ‡·) to the many rules of this new, strange place."><meta itemprop=name content="Speccing = cool - weeknotes #54"><meta itemprop=description content="I&rsquo;ve been working about 50% this week as I&rsquo;m chaperoning the little one in her introduction to the new daycare centre. Which means that I spent my mornings with a group of about a dozen 2-6 year olds â€“ a relatively different bunch than my regular colleagues, believe me.
I won&rsquo;t bore you with parental softness, but it&rsquo;s a really sweet thing seeing her navigating this new world and having so much to take on, from the new everyday language (ðŸ‡«ðŸ‡·) to the many rules of this new, strange place."><meta itemprop=datePublished content="2021-10-09T00:00:00+00:00"><meta itemprop=dateModified content="2021-10-09T00:00:00+00:00"><meta itemprop=wordCount content="347"><meta itemprop=keywords content><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style><base href=https://basilesimon.fr/><link rel=stylesheet href=main.css><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","headline":"Speccing = cool - weeknotes #54","url":"https:\/\/basilesimon.fr\/weeknotes\/weeknotes-54\/","description":"","publisher":{"@type":"Person","name":"map[]","image":{"@type":"ImageObject","url":"\/assets\/author.jpg"}}}</script></head><body><header><a href=/ class=title><h2>ðŸ‘‹ hi, Iâ€™m basile</h2></a><nav><a href=/>Home</a>
<a href=/blog>Blog</a>
<a href=/weeknotes>Weeknotes</a></nav></header><main><article class=single><h1>Speccing = cool - weeknotes #54</h1><p><i><time datetime=2021-10-09 pubdate>09 Oct, 2021</time></i></p><content><p>I&rsquo;ve been working about 50% this week as I&rsquo;m chaperoning the little one in her introduction to the new daycare centre. Which means that I spent my mornings with a group of about a dozen 2-6 year olds â€“ a relatively different bunch than my regular colleagues, believe me.</p><p>I won&rsquo;t bore you with parental softness, but it&rsquo;s a really sweet thing seeing her navigating this new world and having so much to take on, from the new everyday language (ðŸ‡«ðŸ‡·) to the many rules of this new, strange place.</p><hr><p>I&rsquo;ve gladly welcomed (tautology?) the opportunity to work on some UI bits through tools nudging towards the isolation and &ldquo;statelessness&rdquo; of components.</p><p>On the JS, React side I&rsquo;m leaning on <a href=https://storybook.js.org/>Storybook</a> once again and&mldr; still loving it so far.</p><p>It&rsquo;s a bit more involved in ClojureScript, as I didn&rsquo;t find the courage to set up the plumbing for <a href=https://github.com/bhauman/devcards>devcards</a>. Instead, Niko and I scaffolded a one-page view where I can toss my components and rather manually recreate their state.</p><hr><p>For obscure large-company-German-IT reasons, the question of knowledge bases for a small team has come up. It&rsquo;s something I&rsquo;d like to get my thoughts in order about, as I&rsquo;ve been using a few systems in the last few years, including as a now-floating agent.</p><p>TL;DR: where I used to favour dev-integrated tools (reference a PR/issue seamlessly), I&rsquo;ve come to favour autosaved, WYSIWYG, great UI-X ones.</p><hr><p>I&rsquo;ve discovered <a href=https://clojure.org/guides/spec>Clojure Spec</a>, part of the standard library, which assists the spec-ing and confirmity checking of data structures.</p><p>In a simplified form, it works this way:</p><p>Let&rsquo;s define a <code>post</code>, which is a map/object containing, at least, <code>type</code>, <code>author</code>, and <code>copy</code> and at most the aforementioned plus <code>media</code> and <code>location</code>:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-clj data-lang=clj>(<span style=color:#900;font-weight:700>s/def</span> <span style=color:#990073>::post</span> (<span style=color:#900;font-weight:700>s/keys</span> <span style=color:#990073>:req-un</span> [<span style=color:#990073>::type</span>
                               <span style=color:#990073>::author</span>
                               <span style=color:#990073>::copy</span>]
                      <span style=color:#990073>:opt-un</span> [<span style=color:#990073>::media</span>
                               <span style=color:#990073>::location</span>]))
</code></pre></div><p>Is this map valid? Nope&mldr;</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-clj data-lang=clj>(<span style=color:#900;font-weight:700>s/valid?</span> <span style=color:#990073>::post</span>
          {<span style=color:#990073>:type</span> <span style=color:#d14>&#34;text&#34;</span>
           <span style=color:#990073>:author</span> <span style=color:#d14>&#34;basile&#34;</span>})
<span style=color:teal>=&gt;</span> <span style=color:teal>false</span>
</code></pre></div><p>Why? <code>explain-data</code> points at the missing keyword:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-clj data-lang=clj>(<span style=color:#900;font-weight:700>s/explain-data</span> <span style=color:#990073>::post</span> {<span style=color:#990073>:type</span> <span style=color:#d14>&#34;text&#34;</span>
                        <span style=color:#990073>:author</span> <span style=color:#d14>&#34;basile&#34;</span>})
<span style=color:teal>=&gt;</span> <span style=color:#000;font-weight:700>#</span><span style=color:#990073>:spec</span>{<span style=color:#990073>:problems</span>
          ({<span style=color:#990073>:path</span> [],
            <span style=color:#990073>:pred</span> (<span style=color:#900;font-weight:700>clojure.core/fn</span> [<span style=color:teal>%</span>] (<span style=color:#900;font-weight:700>clojure.core/contains?</span> <span style=color:teal>%</span> <span style=color:#990073>:copy</span>)),
            <span style=color:#990073>:val</span> {<span style=color:#990073>:type</span> <span style=color:#d14>&#34;text&#34;</span>, <span style=color:#990073>:author</span> <span style=color:#d14>&#34;basile&#34;</span>},
            <span style=color:#990073>:via</span> [<span style=color:#990073>:spec-demo.core/post</span>],
            <span style=color:#990073>:in</span> []}), <span style=color:#990073>:spec</span> <span style=color:#990073>:spec-demo.core/post</span>,
          <span style=color:#990073>:value</span> {<span style=color:#990073>:type</span> <span style=color:#d14>&#34;text&#34;</span>, <span style=color:#990073>:author</span> <span style=color:#d14>&#34;basile&#34;</span>}}
</code></pre></div></content><p></p></article></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a></footer></body></html>